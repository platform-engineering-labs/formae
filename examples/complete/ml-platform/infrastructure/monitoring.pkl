/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

import "@aws/logs/loggroup.pkl"
import "@aws/kms/key.pkl"

class Monitoring {
  name: String
  kmsKey: key.Key

  hidden sageMakerLogGroup: loggroup.LogGroup = new {
    label = "\(name)-sagemaker-logs"
    logGroupName = "/aws/sagemaker/\(name)"
    retentionInDays = 30
    kmsKeyId = outer.kmsKey.res.arn
    tags {
      new { key = "Name"; value = label }
      new { key = "ManagedBy"; value = "formae" }
    }
  }

  resources: Listing = new {
    sageMakerLogGroup
  }
}