/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

module aws.ec2.vpnconnection

import "@formae/formae.pkl"
import "../aws.pkl"

const type = "AWS::EC2::VPNConnection"

typealias CloudwatchLogOptionsSpecificationLogOutputFormat = "json"|"text"

@aws.SubResourceHint
open class CloudwatchLogOptionsSpecification extends formae.SubResource {
    logEnabled: Boolean?
    logGroupArn: (String|formae.Resolvable)?
    logOutputFormat: CloudwatchLogOptionsSpecificationLogOutputFormat?
}

typealias IKEVersionsRequestListValueValue = "ikev1"|"ikev2"

@aws.SubResourceHint
open class VPNConnectionIKEVersionsRequestListValue extends formae.SubResource {
    value: IKEVersionsRequestListValueValue?
}

@aws.SubResourceHint
open class VPNConnectionPhase1DHGroupNumbersRequestListValue extends formae.SubResource {
    value: Int?
}

typealias Phase1EncryptionAlgorithmsRequestListValueValue = "AES128"|"AES256"|"AES128-GCM-16"|"AES256-GCM-16"

@aws.SubResourceHint
open class VPNConnectionPhase1EncryptionAlgorithmsRequestListValue extends formae.SubResource {
    value: Phase1EncryptionAlgorithmsRequestListValueValue?
}

typealias Phase1IntegrityAlgorithmsRequestListValueValue = "SHA1"|"SHA2-256"|"SHA2-384"|"SHA2-512"


@aws.SubResourceHint
open class VPNConnectionPhase1IntegrityAlgorithmsRequestListValue extends formae.SubResource {
    value: Phase1IntegrityAlgorithmsRequestListValueValue?
}

@aws.SubResourceHint
open class VPNConnectionPhase2DHGroupNumbersRequestListValue extends formae.SubResource {
    value: Int?
}

typealias Phase2EncryptionAlgorithmsRequestListValueValue = "AES128"|"AES256"|"AES128-GCM-16"|"AES256-GCM-16"

@aws.SubResourceHint
open class VPNConnectionPhase2EncryptionAlgorithmsRequestListValue extends formae.SubResource {
    value: Phase2EncryptionAlgorithmsRequestListValueValue?
}

typealias Phase2IntegrityAlgorithmsRequestListValueValue = "SHA1"|"SHA2-256"|"SHA2-384"|"SHA2-512"

@aws.SubResourceHint
open class VPNConnectionPhase2IntegrityAlgorithmsRequestListValue extends formae.SubResource {
    value: Phase2IntegrityAlgorithmsRequestListValueValue?
}

@aws.SubResourceHint
open class LogOptionsSpecification extends formae.SubResource {
    cloudwatchLogOptions: CloudwatchLogOptionsSpecification?
}

typealias VpnTunnelOptionsSpecificationDPDTimeoutAction = "clear"|"none"|"restart"

typealias VpnTunnelOptionsSpecificationStartupAction = "add"|"start"


@aws.SubResourceHint
open class VpnTunnelOptionsSpecification extends formae.SubResource {
    dPDTimeoutAction: VpnTunnelOptionsSpecificationDPDTimeoutAction?
    dPDTimeoutSeconds: Int?
    enableTunnelLifecycleControl: Boolean?
    iKEVersions: Listing<VPNConnectionIKEVersionsRequestListValue>?
    logOptions: LogOptionsSpecification?
    phase1DHGroupNumbers: Listing<VPNConnectionPhase1DHGroupNumbersRequestListValue>?
    phase1EncryptionAlgorithms: Listing<VPNConnectionPhase1EncryptionAlgorithmsRequestListValue>?
    phase1IntegrityAlgorithms: Listing<VPNConnectionPhase1IntegrityAlgorithmsRequestListValue>?
    phase1LifetimeSeconds: Int?
    phase2DHGroupNumbers: Listing<VPNConnectionPhase2DHGroupNumbersRequestListValue>?
    phase2EncryptionAlgorithms: Listing<VPNConnectionPhase2EncryptionAlgorithmsRequestListValue>?
    phase2IntegrityAlgorithms: Listing<VPNConnectionPhase2IntegrityAlgorithmsRequestListValue>?
    phase2LifetimeSeconds: Int?

    @aws.FieldHint{writeOnly = true}
    preSharedKey: String?

    rekeyFuzzPercentage: Int?
    rekeyMarginTimeSeconds: Int?
    replayWindowSize: Int?
    startupAction: VpnTunnelOptionsSpecificationStartupAction?
    tunnelInsideCidr: String?
    tunnelInsideIpv6Cidr: String?
}

@aws.ResourceHint {
    type = module.type
    identifier = "VpnConnectionId"
    tags = "Tags"
}
open class VPNConnection extends formae.Resource {

    @aws.FieldHint{createOnly = true}
    customerGatewayId: String|formae.Resolvable

    @aws.FieldHint{createOnly = true}
    enableAcceleration: Boolean?

    @aws.FieldHint{createOnly = true}
    localIpv4NetworkCidr: String?

    @aws.FieldHint{createOnly = true}
    localIpv6NetworkCidr: String?

    @aws.FieldHint{createOnly = true}
    outsideIpAddressType: String?

    @aws.FieldHint{createOnly = true}
    remoteIpv4NetworkCidr: String?

    @aws.FieldHint{createOnly = true}
    remoteIpv6NetworkCidr: String?

    @aws.FieldHint{createOnly = true}
    staticRoutesOnly: Boolean?

    @aws.FieldHint
    tags: Listing<formae.Tag>?

    @aws.FieldHint{createOnly = true}
    transitGatewayId: (String|formae.Resolvable)?

    @aws.FieldHint{createOnly = true}
    transportTransitGatewayAttachmentId: (String|formae.Resolvable)?

    @aws.FieldHint{createOnly = true}
    tunnelInsideIpVersion: String?

    @aws.FieldHint{createOnly = true}
    type: String

    @aws.FieldHint{createOnly = true}
    vpnGatewayId: (String|formae.Resolvable)?

    @aws.FieldHint{createOnly = true}
    vpnTunnelOptionsSpecifications: Listing<VpnTunnelOptionsSpecification>?
}
