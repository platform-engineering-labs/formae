/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

module aws.lambda.alias

import "@formae/formae.pkl"
import "../aws.pkl"

const type = "AWS::Lambda::Alias"

@aws.SubResourceHint
open class RoutingConfiguration extends formae.SubResource {
    additionalVersionWeights: Listing<AliasVersionWeight>?
}

@aws.SubResourceHint
open class ProvisionedConcurrencyConfiguration extends formae.SubResource {
    provisionedConcurrentExecutions: Int
}

@aws.SubResourceHint
open class AliasVersionWeight extends formae.SubResource {
    functionVersion: String
    functionWeight: Number
}

@aws.ResourceHint {
    type = module.type
    identifier = "AliasArn"
    parent = "AWS::Lambda::Function"
    listParam = new formae.ListProperty { parentProperty = "FunctionName" listParameter = "FunctionName" }
}
open class Alias extends formae.Resource {

    @aws.FieldHint
    description: String?

    @aws.FieldHint{createOnly = true}
    functionName: String|formae.Resolvable

    @aws.FieldHint
    functionVersion: String

    @aws.FieldHint{createOnly = true}
    name: String

    @aws.FieldHint
    provisionedConcurrencyConfig: ProvisionedConcurrencyConfiguration?

    @aws.FieldHint
    routingConfig: RoutingConfiguration?
}
