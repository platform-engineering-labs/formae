/*
 * Â© 2025 Platform Engineering Labs Inc.
 *
 * SPDX-License-Identifier: FSL-1.1-ALv2
 */

module generator

import "pkl:json"
import "./pklGenerator.pkl"

hidden JsonProp = read?("prop:Json")

hidden parsed = if(JsonProp != null) new json.Parser {}.parse(JsonProp) else throw("Json property is required")

output {
  text = pklGenerator.generateFormaFile(parsed)
}